:root{
  --bg:#101112;
  --panel:#17181a;
  --muted:#8b8f95;
  --text:#eef1f3;
  --pill:#232529;
  --pill-bd:#2e3136;
  --accent:#dfe3e8;
  --gap:1px;
  --wrap:679px; /* ancho embebido Notion */
  --radius:10px;
  --card-ratio: calc(5 / 4); /* alto/ancho -> 4:5 */
  --shadow: 0 6px 24px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--text);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial}
.wrap{max-width:var(--wrap);margin:24px auto;padding:0 12px}

.toolbar{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px}
.toolbar__left{display:flex;gap:8px;align-items:center}
.btn{
  appearance:none;border:1px solid var(--pill-bd);background:var(--pill);color:var(--text);
  padding:8px 14px;border-radius:999px;cursor:pointer;display:inline-flex;gap:8px;align-items:center;
}
.btn:hover{filter:brightness(1.04)}
.btn--ghost{background:transparent}
.btn--more{margin:18px auto;display:inline-flex}

.filters{display:flex;gap:8px;flex-wrap:wrap}
.select{position:relative}
.select__btn{
  border:1px solid var(--pill-bd);background:var(--pill);color:var(--text);
  padding:8px 14px;border-radius:999px;cursor:pointer;min-width:140px;text-align:left
}
.select.open .select__menu{display:block}
.select__menu{
  display:none;position:absolute;top:calc(100% + 6px);left:0;z-index:30;
  width:260px;max-height:320px;overflow:auto;background:var(--panel);border:1px solid var(--pill-bd);
  border-radius:12px;box-shadow:var(--shadow);padding:8px;
}
.select__menu .option{
  display:block;width:100%;padding:8px 10px;border-radius:8px;cursor:pointer;color:var(--text);
}
.select__menu .option:hover{background:#202227}
.select__menu input.option{border:1px solid var(--pill-bd);background:#121316;margin-bottom:6px;border-radius:8px}

.grid{
  width:var(--wrap);margin:0 auto;display:grid;gap:var(--gap);
  grid-template-columns: repeat(3, 1fr);
}
.card{
  position:relative;background:#cfd3d8;overflow:hidden;aspect-ratio:4/5; /* 4:5 exacto */
}
.card__media{width:100%;height:100%;object-fit:cover;display:block}
.card__badges{position:absolute;top:6px;left:6px;display:flex;gap:6px;z-index:2}
.badge{display:inline-flex;gap:6px;align-items:center;padding:4px 6px;border-radius:7px;background:rgba(0,0,0,.55);color:#fff;font-size:12px}
.badge svg{display:block}

.card__bar{
  position:absolute;bottom:0;left:0;right:0;z-index:1;
  background:linear-gradient(180deg, transparent, rgba(0,0,0,.7));
  color:#fff;padding:10px 10px 8px 10px;font-size:13px;display:flex;justify-content:space-between;align-items:flex-end;
}
.card__title{max-width:80%;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.card__date{opacity:.9}

/* placeholders */
.card--empty{display:flex;align-items:center;justify-content:center;color:#a0a5ab;background:#d2d6db}

/* Modal */
.modal{position:fixed;inset:0;display:none}
.modal.is-open{display:block}
.modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.7)}
.modal__panel{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:24px;
}
.viewer{
  position:relative;max-width:min(900px,95vw);max-height:min(92vh,900px);
  width:min(900px,95vw);background:var(--panel);border-radius:14px;box-shadow:var(--shadow);
  display:flex;flex-direction:column;overflow:hidden;
}
.viewer__stage{
  flex:1;display:flex;align-items:center;justify-content:center;background:#0d0e10;
}
.viewer__stage img,
.viewer__stage video{
  max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;display:block;
}
.nav{
  position:absolute;top:50%;transform:translateY(-50%);
  width:42px;height:42px;border-radius:999px;border:1px solid var(--pill-bd);
  background:rgba(0,0,0,.55);color:#fff;display:flex;align-items:center;justify-content:center;
  cursor:pointer;z-index:3;
}
.nav.prev{left:8px}
.nav.next{right:8px}
.modal__close{
  position:absolute;top:-18px;right:-18px;width:36px;height:36px;border-radius:999px;border:none;cursor:pointer;
  background:#fff;color:#000;box-shadow:var(--shadow);z-index:4;
}
.viewer__dots{
  position:absolute;top:10px;left:50%;transform:translateX(-50%);
  background:rgba(0,0,0,.55);color:#fff;border-radius:999px;padding:4px 8px;font-size:12px;z-index:3;
}
.viewer__copy{
  border-top:1px solid #22252a;color:var(--text);padding:10px 12px;max-height:120px;overflow:auto;
  font-size:13px;line-height:1.45;
}

/* Responsivo m√≠nimo: conserva 3 col siempre (embebido) */
@media (max-width:740px){
  .wrap{padding:0 8px}
  .grid{width:100%}
}
